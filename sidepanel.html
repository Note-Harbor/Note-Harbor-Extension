<html>
  <head>
    <link rel="stylesheet" href="css/style.css" />
    <script src="lib/purify.min.js"></script>
    <script src="lib/marked.min.js"></script>
    <script src="lib/quill.js"></script>
    <link href="css/quill.snow.css" rel="stylesheet" />
  </head>
  <body>
    <div class="topContainerSearch">
      <input id="search" class="topInput" type="text" list="prefixes" autocomplete="off" placeholder="Search Notes">
      <datalist id="prefixes">
        <option value="folder:">Folder Name</option>
        <option value="title:">Note Title</option>
      </datalist>

      <button id="openSettings" class="settings-btn topButton" title="Options"></button>
    </div>
    
    <div class="topContainer">
      <div class="inputContainer">
        <input id="title" class="topInput title" type="text" placeholder="Title" maxlength="30">
        <div id="info" class="topInput body" autofocus="autofocus" placeholder="Write Here!"></div>
        <div class="mainBar">
          <div id="formatBar"></div>
          <button id="add" class="topButton">Add Note</button>
          <button id="erase" class="topButton">Erase</button>
        </div>
      </div>
    </div>
    
          <div class="flex">
        <div id="folderRow">
          <div id="dropdown" class="dropdown-btn dropdown topButton" title = "All Folders">
            <div class="dropdown-content">
            </div>
            <div id="dropdown-menu" class="dropdown-menu hidden"></div>
          </div>
          <button id="addFolderButton" class="plus-btn topButton" title="Add Folder"></button>
          <div id="folderContainer"></div>
        </div>
      </div>

    <!-- Creates Error Message -->
    <div id="errorMessage"></div>

    <!-- Holds all the notes -->
    <div id="container"></div>

    <!-- Floating Settings Menu -->
    <div id="settingsMenu" class="settings-menu">
      <div class="menu-item" id="settingsOption">Settings</div>
      <div class="menu-item" id="sortOption">Sort By</div>
      <!--<div class="menu-item" id="websiteOption">Website</div>-->
    </div>

    <!-- Floating Sort Menu (Appears When Clicking "Sort By") -->
    <div id="sortMenu" class="settings-menu">
      <div class="menu-item" id="sortByOldest">Date (Oldest)</div>
      <div class="menu-item" id="sortByNewest">Date (Newest)</div>
      <!--<div class="menu-item" id="sortByFolder">Sort by Folder</div>-->
    </div>

    <dialog id="settingsModal" class="settings-modal">
      <div class="modal-content">
        <div class="settingsTop">
          <p id="settingsTitle">Settings</p>
          <button id="closeSettings" class="close-btn closeButton"></button>
        </div>
        <div class="settingsDiv">
          <label class="settingsHeader">Select Theme</label>
          <p class="settingsText">Choose a color palette for Note Harbor!</p>
          <select id="themeDropdown">
            <option value="legacy">Legacy</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
            <option value="matcha">Matcha</option>
            <option value="nebula">Nebula</option>
          </select>
        </div>
        <div class="settingsDiv">
          <label class="settingsHeader">Delete All Notes</label>
          <p class="settingsText">Permanently delete all your notes. This action cannot be undone.</p>
          <button id="delall" class="topButton settingsButton">Delete All Notes</button>
        </div>
        <div class="settingsDiv">
          <label class="settingsHeader">Reset All Settings</label>
          <p class="settingsText">Restore all settings to default. Your notes will not be deleted.</p>
          <button id="resetSettings" class="topButton settingsButton">Reset All Settings</button>
        </div>
        <div class="settingsDiv">
          <label class="settingsHeader">Download Notes (Prototype)</label>
          <p class="settingsText">Download notes in JSON format.</p>
          <button id="downloadButton" class="topButton settingsButton" title="Download Notes">
            <!-- <i class="fas fa-download"></i> --> 
            Download Notes
          </button>
        </div>
      </div>
    </dialog>
    <dialog id="deleteConfirmModal" class="settings-modal confirmModal">
      <div class="modal-content">
        <div class="settingsTop">
          <p class="settingsHeader">Are you sure?</p>
          <button id="cancelDeleteNotes" class="close-btn closeButton"></button>
        </div>
        <div class="settingsDiv">
          <p class="settingsText">This will permanently delete all your notes. This action cannot be undone.</p>
          <button id="confirmDeleteNotes" class="topButton settingsButton">Delete All Notes</button>
        </div>
      </div>
    </dialog>
    <dialog id="resetConfirmModal" class="settings-modal confirmModal">
      <div class="modal-content">
        <div class="settingsTop">
          <p class="settingsHeader">Are you sure?</p>
          <button id="cancelResetNotes" class="close-btn closeButton"></button>
        </div>
        <div class="settingsDiv">
          <p class="settingsText">This will permanently reset your settings. This action cannot be undone.</p>
          <button id="confirmResetNotes" class="topButton settingsButton">Reset All Settings</button>
        </div>
      </div>
    </dialog>
    <dialog id="deleteFolderModal" class="settings-modal confirmModal">
      <div class="modal-content">
        <div class="settingsTop">
          <p class="settingsHeader">Delete Folder?</p>
          <button id="cancelDeleteFolder" class="close-btn closeButton"></button>
        </div>
        <div class="settingsDiv">
          <p class="settingsText">This will remove the folder from all notes.</p>
          <button id="confirmDeleteFolder" class="topButton settingsButton">Delete Folder</button>
        </div>
      </div>
    </dialog>
    <dialog id="downloadConfirmModal" class="settings-modal confirmModal">
      <div class="modal-content">
        <div class="settingsTop">
          <p class="settingsHeader">Download notes?</p>
          <button id="cancelDownloadNotes" class="close-btn closeButton"></button>
        </div>
        <div class="settingsDiv">
          <p class="settingsText">This will download all your notes locally as a JSON file. </p>
          <button id="confirmDownloadNotes" class="topButton settingsButton">
            Download Notes
          </button>
        </div>
      </div>
    </dialog>
    <dialog id="deleteSingleNoteModal" class="settings-modal confirmModal">
      <div class="modal-content">
        <div class="settingsTop">
          <p class="settingsHeader">Are you sure?</p>
          <button id="cancelDeleteSingleNote" class="close-btn closeButton"></button>
        </div>
        <div class="settingsDiv">
          <p class="settingsText">This action cannot be undone.</p>
          <button id="confirmDeleteSingleNote" class="topButton settingsButton">Delete Note</button>
        </div>
      </div>
    </dialog>
  </body>

  

  <!-- Script call order matters -->
  <script src="js/drag.js"></script>
  <script src="js/formatBar.js"></script>
  <script src="js/notes.js"></script>
  <script src="js/search.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/themes.js"></script>
  <script src="js/folders.js"></script>
  <script src="js/sidepanel.js"></script>
  <script src="js/editor.js"></script>
</html>
